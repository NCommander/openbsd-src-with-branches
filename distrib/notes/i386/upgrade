NOTE! If you are going to do the upgrade manually, you MUST use the "-r"
flag when invoking disklabel(8).  You MUST also change the partition table
such that partition 'c' encompasses the entire drive, and not only the
OpenBSD partition.  Finally, partition 'd' is no longer special and can be
used for any purpose whatsoever.

Also, OpenBSD now uses partition ID 0xA6 (166 decimal), but will continue
to work with 0xA5 for compatibility reasons.  However, if you change the
partition ID to 0xA6, you will be able to share the disk with 386BSD,
FreeBSD or NetBSD. Note that the latter three can NOT easily share the disk
with each other.

To do the upgrade, you must have the floppy23.fs floppy image on a disk.
You must also have at least the "base23" and "bsd" binary distribution set
available, so that you can upgrade with it, using one of the upgrade
methods described above.  Finally, you must have sufficient disk space
available to install the new binaries.  Since the old binaries are being
overwritten in place, you only need space for the new binaries, which
weren't previously on the system.  If you have a few megabytes free on each
of your root and /usr partitions, you should have enough space.

Since upgrading involves replacing the boot blocks on your OpenBSD
partition, the kernel, and most of the system binaries, it has the
potential to cause data loss.  You are strongly advised to BACK UP ANY
IMPORTANT DATA ON YOUR DISK, whether on the OpenBSD partition or on another
operating system's partition, before beginning the upgrade process.

  To upgrade your system, follow the following instructions:

	Boot your machine using of the floppy23.fs floppy.  When presented
	with the boot prompt (the "boot>" prompt), hit return.

	While booting, you will probably see several warnings.  You should
	be warned that no swap space is present, and that init(8) cannot
	find /etc/rc.  Do not be alarmed, these are completely normal.
	When you reach the prompt asking you for a shell name, just hit
	return.
	
	You will be presented with a welcome message and a prompt.  If you
	are upgrading from a pre-OpenBSD 1.0 release, you should upgrade
	your file systems manually now, using "fsck -c 2".  Read the
	fsck(8) manual page for more details.
	
	Now you will be asked whether you wish to do an "install" or an
	"upgrade".  Enter 'u' to upgrade your existing installation.  You
	will be presented with some information about the upgrade process
	and a warning message, and will be asked if you wish to proceed
	with the upgrade process.  If you answer negatively, the upgrade
	process will stop, and your disk will not be modified.  If you
	answer affirmatively, the upgrade process will begin, and your disk
	will be modified.  You may hit Control-C to stop the upgrade
	process at any time.  However, if you hit it at an inopportune
	moment, your system may be left in an inconsistent (and possibly
	unusable) state.
	
	You will be asked which terminal type to use, you should just hit
	return to select the default (pcvt25).

	The upgrade program will then tell you which disks of that type it
	can upgrade, and ask you which it should use.  The name of the disk
	is typically "wd0" for IDE/RLL/ESDI/ST506 drives or "sd0" for SCSI
	drives.  Reply with the name of your disk.
	
	The upgrade program will then ask you for the partition which
	contains the root file system and proceed with checking it.  It
	will then mount your root file system on /mnt.
	
	After all your root file system has been mounted, the upgrade
	program will ask you if you want to enable the network.  If you
	answer affirmatively, the configuration stored on the root file
	system will be used.  After this you will be given the opportunity
	to escape to the command shell to do any additional network
	configuration.  This may include adding or altering routes, if
	needed.
	
	At the next point you can edit the fstab, which is used for the
	upgrade process.  You may need to resolve dependencies in the order
	in which the file systems are mounted.  All partitions will be
	checked and mounted under /mnt.  In other words, your root
	partition will be mounted on /mnt, your /usr partition on /mnt/usr,
	etc.

	You will be asked if the upgrade sets are already on the mounted
	file systems.  If you answer with yes, you can type in the path
	where the sets are stored.  The upgrade then contiues with the
	procedure described in the paragraph "Common file system
	installations" in the install section of this document.

	If you don't already have the OpenBSD distribution sets on your
	disk, look at the installation section of this document for
	information on how to go on.  Your options are to install via FTP,
	via HTTP, via nfs, from tape, from CD-ROM or, again, from local
	disk.  But remember to not install the "etc23" distribution file!

  Your system has now been upgraded to OpenBSD 2.3.

	After rebooting your machine is a complete OpenBSD 2.3 system.
	However, that doesn't mean that you're finished with the upgrade
	process.  There are several things that you should do, or might
	have to do, to insure that the system works properly.

	First, you will probably want to get the etc23 distribution,
	extract it to a temporary location, and compare its contents with
	those in your /etc/ directory.  You will probably want to replace
	some of your system configuration files, or incorporate some of the
	changes in the new versions into yours.

	Second, you will probably want to update the set of device nodes
	you have in /dev.  If you've changed the contents of /dev by hand,
	you will need to be careful about this.  A "MAKEDEV all" was
	already run during the upgrade procedure, so you will have to take
	care about those devices, that are not remade by "MAKEDEV all".

	Third, you must deal with certain changes in the formats of some of
	the configuration files.  The most notable change is that the
	"options" given to many of the file systems in /etc/fstab or by
	hand have changed, and some of the file systems have changed names.
	*IMPORTANT*: ANY INSTANCES OF "ufs" IN /etc/fstab ARE CHANGED TO
	"ffs" BY THE UPGRADE PROGRAM. To find out what the new options are,
	it's suggested that you read the manual page for the file systems'
	mount commands, for example mount_nfs(8) for NFS. (Note that the
	information for mounts of type "ffs", i.e.  Fast File Systems, are
	contained in the mount(8) man page.)

	Finally, you will want to delete old binaries that were part of the
	version of OpenBSD that you upgraded from and have since been
	removed from the OpenBSD distribution.  If you are upgrading from a
	pre-1.0 OpenBSD, you might also want to recompile any locally-built
	binaries, to take advantage of the shared libraries.  (Note that
	any new binaries that you build will be dynamically linked, and
	therefore take advantage of the shared libraries, by default.  For
	information on how to make statically linked binaries, see the
	cc(1) and ld(1) manual pages.)
