
This is a list of things that still need to be done:

* wrap vfork (basically the same as fork())

* wrap itimer() syscalls so that the _ITIMER_SCHED_TIMER can't be trashed

* Move the md include stuff so that it appears in /usr/include/<arch>/
  That way, gdb's thread stuff can be built sanely and maybe other
  uthread-aware stuff can make use of it?

* Move to using -lpthread. Needs weak symbol support in all as and ld.so
  implementations.
  [espie@ looking at unifying toolchain]

* Add 
      pthread_condattr_[gs]etpshared()	-- and add warn_references
      pthread_mutexattr_[gs]etpshared()
      sched_setparam()
      sched_setscheduler()

* Add _warn_references to the schedprio stuff

* Quiz jb about pthread_llist_remove.. change name to _thread_llist_remove?
	- what pthread_setprio() and pthread_yield() for?
	- shouldn't pthread_yield() be marked depreciated?

* Add thread stuff to the other archs in libc/arch/; ie change
  some usages of ENTRY to SYSENTRY in some .S files and add
  the new macros to their SYS.h. 
  [wip]

* Test that thread_init is automatically called on every arch, regardless
  of whether the exe is statically linked or not.
  [problems with new egcs?]

* Configure the gnu objective-C compiler to see if it can use threads.

* Keep a handle on how netbsd are going with their kernel threads

* Look into how asynchronous I/O can help us. In particular, the
  (unimplemented) aio*() functions.

* Update the libc manual pages to describe the posix re-entrant functions.
  Although this is actually trivial to do, I have to decide on a
  consistent way of adding them - maybe `.Sh THREAD-SAFE FUNCTIONS' ?
  Should look into standards to see what they suggest/did..
  May also need to document "This is not thread-safe" for some library
  functions (yet to be identified).
  [Need to ask aaron@ for his opinion.]

* Find out where freebsd/netbsd use pread() and pwrite().. i think
  its in the database routines mostly.

* Figure out what to do with the configuration system variables (_SC_*)
  that are defined by POSIX 1003.1c (at least update sysconf(3))

* Compare with PTL (http://www3.media.osaka-cu.ac.jp/~k-abe/PTL/)
  [snarfed some sparc md stuff]

* Check that threads work with:
	- perl (in-tree)
	- objc (in-tree gcc)
	- gdb
	- ports
		- lang/python
		- databases/mysql
		- net/mrtd

$OpenBSD: TODO,v 1.7 1999/11/28 11:28:15 d Exp $
