# This file is a shell script fragment that supplies the information
# necessary to tailor a template configure script into the configure
# script appropriate for this directory.  For more information, check
# any existing configure script.

configdirs=""
srctrigger=Integer.cc
srcname="main libio sources files"

target_makefile_frag=../target-mkfrag
package_makefile_frag=Make.pack

# per-host:

# per-target:

LIBDIR=yes
TOLIBGXX=../
ALL=libgxx.list
EXTRA_DISTCLEAN=rx.h
MOSTLYCLEAN='*.o pic stamp-picdir core libgxx.list'
XCINCLUDES='-I../../libio'

(. ${srcdir}/../config.shared) >${package_makefile_frag}

case "${target}" in
  *-*-linux*)
cat > dummy.c <<EOF
#include <rx.h>
EOF
    files=`${CC-cc} -M dummy.c 2> /dev/null | grep rx.h | sed -e 's/.*[ 	]\([^ 	]*rx.h\).*/\1/'`
    if [ x"${files}"x = xx ]
    then
cat > dummy.c <<EOF
#include <regex.h>
EOF
      files=`${CC-cc} -M dummy.c 2> /dev/null | grep regex.h | sed -e 's/.*[ 	]\([^ 	]*regex.h\).*/\1/'`
      if [ x"${files}"x = xx ]
      then
	files=../../librx/rx.h
      fi
    fi
    rm -f dummy.c
    ;;
  *)
    files=../../librx/rx.h
    ;;
esac
links=rx.h

# post-target:

rm -f ${package_makefile_frag}

# We need multilib support.
case ${srcdir} in
.)
  if [ "${with_target_subdir}" != "." ] ; then
    . ${srcdir}/${with_multisrctop}../../../config-ml.in
  else
    . ${srcdir}/${with_multisrctop}../../config-ml.in
  fi
  ;;
*)
  . ${srcdir}/../../config-ml.in
  ;;
esac
