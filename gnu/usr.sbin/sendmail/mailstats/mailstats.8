.\" Copyright (c) 1998-2002 Sendmail, Inc. and its suppliers.
.\"	All rights reserved.
.\"
.\" By using this file, you agree to the terms and conditions set
.\" forth in the LICENSE file which can be found at the top level of
.\" the sendmail distribution.
.\"
.\"
.\"	$Sendmail: mailstats.8,v 8.31 2002/06/27 22:47:29 gshapiro Exp $
.\"
.Dd September 26, 2002
.Dt MAILSTATS 8
.Os
.Sh NAME
.Nm mailstats
.Nd display mail statistics
.Sh SYNOPSIS
.Nm mailstats
.Op Fl c
.Op Fl o
.Op Fl p
.Op Fl P
.Op Fl C Ar cffile
.Op Fl f Ar stfile
.Sh DESCRIPTION
The
.Nm mailstats
utility displays the current mail statistics.
.Pp
First, the time at which statistics started being kept is displayed,
in the format specified by
.Xr ctime 3 .
Then,
the statistics for each mailer are displayed on a single line,
each with the following whitespace separated fields:
.Pp
.Bl -tag -width 10n -offset indent -compact
.It Sy M
The mailer number.
.It Sy msgsfr
Number of messages from the mailer.
.It Sy bytes_from
Kbytes from the mailer.
.It Sy msgsto
Number of messages to the mailer.
.It Sy bytes_to
Kbytes to the mailer.
.It Sy msgsrej
Number of messages rejected.
.It Sy msgsdis
Number of messages discarded.
.It Sy msgsqur
Number of messages quarantined.
.It Sy Mailer
The name of the mailer.
.El
.Pp
After this display, a line totaling the values for all of the mailers
is displayed (preceded with a
.Dq T ) ,
separated from the previous information by a line containing only equals
.Pq Dq \&=
characters.
Another line preceded with a
.Dq C
lists the number of TCP connections.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl C
Read the specified file instead of the default
.Nm sendmail
configuration file.
.It Fl c
Try to use submit.cf instead of the default
.Nm sendmail
configuration file.
.It Fl f
Read the specified statistics file instead of the statistics file
specified in the
.Nm sendmail
configuration file.
.It Fl p
Output information in program-readable mode and clear statistics.
.It Fl P
Output information in program-readable mode without clearing statistics.
.It Fl o
Don't display the name of the mailer in the output.
.El
.Sh FILES
.Bl -tag -width /var/log/sendmail.stXX -compact
.It Pa /etc/mail/sendmail.cf
The default
.Nm sendmail
.Dq cf
file.
.It Pa /var/log/sendmail.st
The default
.Nm sendmail
statistics file.
.El
.Sh EXIT STATUS
.Ex -std mailstats
.Sh SEE ALSO
.Xr mailq 8 ,
.Xr sendmail 8
