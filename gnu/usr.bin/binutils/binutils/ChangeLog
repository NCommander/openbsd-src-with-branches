2001-06-11  Alan Modra  <amodra@bigpond.net.au>

	Merge from mainline.
	2001-02-27  Alan Modra  <alan@linuxcare.com.au>
	* configure.in (BFD_VERSION): New.
	(AM_INIT_AUTOMAKE): Use $BFD_VERSION.
	* configure: Regenerate.

	2001-04-27  Michal Svec <rebel@atrey.karlin.mff.cuni.cz>
	* strings.c (isgraphic): Do not use isascii() unless it is needed
	for isprint() to work.
	(main): Set the locale domain to LC_ALL not just LC_MESSAGES.

	2001-04-10  Alan Modra  <amodra@one.net.au>
	* nm.c (print_symbol_info_bsd): Use a simple printf string.

	2001-02-07  Todd Vierling  <tv@wasabisystems.com>
	* bucomm.c (bfd_target_vector): Change extern array to pointer.
	* objdump.c (bfd_target_vector): Likewise.

2001-06-10  Philip Blundell  <philb@gnu.org>

	* configure.in: Set version to 2.11.1.
	* configure: Regenerate.

2001-06-09  Alan Modra  <amodra@bigpond.net.au>

	* NEWS: Mention hppa64-elf.  Add binutils-2.11 marker.

	* MAINTAINERS: Replace with mainline version.

2001-06-07  Alan Modra  <amodra@bigpond.net.au>

	* Most files: Update copyright notices.

2001-05-30  Honda Hiroki  <hhonda@kobe-catv.ne.jp>

	* objcopy.c: Add new switches: --keep-global-symbol,
	--keep-symbols, --localize-symbols, --keep-global-symbols and
	--weaken-symbols.
	* binutils.texi: Document new switches.
	* objcopy.1: Regenerate.
	* NEWS: Announce new feature.

2001-05-28  Philip Blundell  <philb@gnu.org>

	From 2001-05-28  Andreas Jaeger  <aj@suse.de>
	* readelf.c (display_debug_frames): Fix warnings: Remove unused
	variables, fix format strings.

	From 2001-05-16  Richard Henderson  <rth@redhat.com>
	* readelf.c (do_debug_frames_interp): New.
	(byte_get_little_endian): If BFD64, always read entire 8-byte fields.
	(byte_get_big_endian): Likewise.
	(parse_args) ['F']: Set do_debug_frames_interp.
	(Frame_Chunk): Make data_factor signed, add fde_encoding.
	(frame_display_row): Don't trunc pc_begin to int.
	(size_of_encoded_value): New.
	(display_debug_frames): Handle 64-bit targets.  Print raw data
	unless do_debug_frames_interp.
	(debug_displays): Remove duplicate .debug_frame.

	From 2001-05-15  Ralf Baechle  <ralf@gnu.org>
	* readelf.c: Replace uses of EM_MIPS_RS4_BE with EM_MIPS_RS3_LE.
	The former constant was never in active use and is used otherwise
	by the ABI.

	From 2001-05-11  Jakub Jelinek  <jakub@redhat.com>
	* readelf.c (process_unwind): Print all unwind sections, not just
	one.

	From 2001-05-07  Thiemo Seufer <seufer@csv.ica.uni-stuttgart.de>
	* readelf.c (process_unwind): Remove const specifier.

	From 2001-03-30  H.J. Lu  <hjl@gnu.org>
	* readelf.c (process_unwind): Just return if do_unwind is 0.

	From 2001-03-29  H.J. Lu  <hjl@gnu.org>
	* readelf.c (process_unwind): Only do unwind sections for
	IA64.

	From 2001-02-28  Nick Clifton  <nickc@redhat.com>
	* readelf.c: (struct unw_aux_info): Remove const modifier for
	'strtab' field.
	(process_unwind): Remove non-K&R compliant LHS type cast in call
	to GET_DATA_ALLOC macro.

	From 2001-02-11  Michael Sokolov  <msokolov@ivan.Harhan.ORG>
	* readelf.c (struct unw_aux_info): Remove const from the info member.
	(process_unwind): Don't type-cast the third argument to the
	GET_DATA_ALLOC macro.

	From 2001-02-11  Nick Clifton  <nickc@redhat.com>
	* readelf.c (dump_relocations): Free corrected allocated
	array.
	(process_unwind): Fix compile time warning.

	From 2001-02-07  David Mosberger  <davidm@hpl.hp.com>
	* readelf.c (process_unwind): New function.
	(slurp_ia64_unwind_table): Ditto.
	(dump_ia64_unwind): Ditto.
	(find_symbol_for_address): Ditto.
	(slurp_rela_relocs): New function (split off from dump_relocations()).
	(slurp_rel_relocs): Ditto.
	(parse_args): Handle '-u' option.
	* unwind-ia64.c: New file.
	* unwind-ia64.h: New file.
	* Makefile.am: Include unwind-ia64.c in readelf build.
	* Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.

2001-04-06  Hans-Peter Nilsson  <hp@axis.com>

	* readelf.c (display_debug_lines): Fix typo for "Prologue".

2001-03-16  Philip Blundell  <philb@gnu.org>

	* configure: Regenerate.

2001-03-11  Philip Blundell  <philb@gnu.org>

	* configure.in: Set version to 2.11.

2001-02-13  Hans-Peter Nilsson  <hp@bitrange.com>

	* acinclude.m4 (AM_PROG_LEX): Override installed definition.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

2001-02-10  Alan Modra  <alan@linuxcare.com.au>

	* nm.c (print_symbol_info_bsd): Don't #ifdef inside printf in case
	printf is a macro.

2001-02-04  Philip Blundell  <philb@gnu.org>

	* configure.in (OBJDUMP_DEFS): Match `arm*-*', not just `arm-*'.
	* configure: Regenerate.

2001-01-31  Steve deRosier  <sderosier@vari-lite.com>

	* ieee.c (ieee_add_bb11): Don't check for backslashes
	unless HAVE_DOS_BASED_FILE_SYSTEM is defined.

2001-01-24  Mark Elbrecht  <snowball3@bigfoot.com>

	* ieee.c: Update copyright.
	(ieee_start_compilation_unit): Don't check for backslashes
	unless HAVE_DOS_BASED_FILE_SYSTEM is defined.

	* stabs.c: Update copyright. Include "filenames.h".
	(parse_stab): Use IS_ABSOLUTE_PATH. Ignore N_WARNING stabs.

2001-01-23  Jakub Jelinek  <jakub@redhat.com>

	* readelf.c (process_version_sections): Check if VERDEF or VERNEED
	sections are present before using them.  Remove code duplication.
	(process_symbol_table): Check if VERDEF or VERNEED sections are
	present before using them.

2001-01-17  Nick Clifton  <nickc@redhat.com>

	* objcopy.c (copy_object): Fail if attempting to convert the
	endianness of the input object file.

	* binutils.texi: Explain that objcopy cannot convert endianness.

2001-01-16  Nick Clifton  <nickc@redhat.com>

	* readelf.c (string_table_length): New variable.
	(SECTION_NAME): Catch out of range indices and missing section
	pointers.
	(process_section_headers): Delete useless local variable
	string_table_offset.  Set the value of string_table_length
	after loading the string table.
	(process_mips_specific): Use SECTION_NAME macro.
	(process_file): Set string_table_length to 0 when it is freed.

2001-01-12  Nick Clifton  <nickc@redhat.com>

	* version.c (print_version): Update copyright date.

2001-01-11  Peter Targett  <peter.targett@arccores.com>

	* readelf.c (dump_relocations): Include selection with EM_ARC.
	(get_machine_name) Update name to "ARC".

2001-01-09  Nick Clifton  <nickc@redhat.com>

	* Makefile.am: Add rule to build objdump.o from objdump.c and
	using OBJDUMP_DEFS.
	* Makefile.in: Regenerate.

	* configure.in: Define OBJDUMP_DEFS.  Default to empty.
	(arm, xscale, d10v): For these targets define OBJDUMP_DEFS to
	-DDISASSEMBLER_NEEDS_RELOCS.
	* configure: Regenerate.

	* objdump.c (disassemble_bytes): If DISASSEMBLER_NEEDS_RELOCS
	is defined read in the relocs even if dump_reloc_info is
	false.

2001-01-07  Philip Blundell  <philb@gnu.org>

	* binutils.texi (Bug Reporting): Replace `bug-gnu-utils' with
	`bug-binutils'.
	* README: Likewise.

2000-12-19  Nick Clifton  <nickc@redhat.com>

	* dlltool.c: Add missing support for arm-epoc-pe.
	* configure.in: Add missing support for arm-epoc-pe.
	* configure: Regenerate.

2000-12-15  Nick Clifton  <nickc@redhat.com>

	* MAINTAINERS: Add Diego Novillo as a maintainer for the Intel
	Mode parts of the x86 port.

2000-12-04  Andreas Jaeger  <aj@suse.de>

	* readelf.c (guess_is_rela): Add EM_X86_64.
	(dump_relocations): Add EM_X86_64.
	(get_machine_name): Add EM_X86_64.
	Include "elf/x86-64.h".

2000-12-12  Nick Clifton  <nickc@redhat.com>

	* readelf.c: Fix formatting.

Mon Dec 11 14:30:21 MET 2000  Jan Hubicka  <jh@suse.cz>

	* MAINTAINERS: Add myself and Andreas Jaeger as x86_64 maintainer.

2000-12-07  Andrew Haley  <aph@redhat.com>

	* readelf.c (display_debug_frames): Only display columns that are
	referenced by the frame debug info.

2000-12-05  Nick Clifton  <nickc@redhat.com>

	* MAINTAINERS: Add Jason Merrill as DWARF2 maintainer.

2000-12-04  Jason Merrill  <jason@redhat.com>

	* readelf.c (process_section_headers): Handle linkonce.wi sections.
	(display_debug_section): Likewise.
	(display_debug_info): Display CU header before bailing.

2000-12-01  Chris Demetriou  <cgd@sibyte.com>

	* readelf.c (get_machine_flags): Recognize MIPS32 ISA in
	EF_MIPS_ARCH.  Replace use of E_MIPS_MACH_MIPS32 with
	E_MIPS_MACH_MIPS32_4K and adjust printed CPU name similarly.

	* readelf.c (get_machine_flags): Add cases for E_MIPS_ARCH_5,
	and E_MIPS_ARCH_64.

	* readelf.c (get_machine_flags): Add case for
	E_MIPS_MACH_SB1.

2000-11-30  Richard Earnshaw  <rearnsha@arm.com>

	* readelf.c (frame_display_row): Output 's' for DW_CFA_same_value.

2000-11-28  Hans-Peter Nilsson  <hp@bitrange.com>

	* MAINTAINERS: Add Jörn Rennecke and self as SH maintainers.
	Change sourceware.cygnus.com to sources.redhat.com.
	Fix typo for "amongst".

2000-11-28  Nick Clifton  <nickc@redhat.com>

	* strip.1 (COPYING): Mention that the GNU Free Documentation
	License is present in the sources, but not the output, and
	also available from the GNU website.
	(GNU Free Documentation License): Comment out this section.
	* strings.1: Ditto.
	* size.1: Ditto.
	* ranlib.1: Ditto.
	* objdump.1: Ditto.
	* objcopy.1: Ditto.
	* nm.1: Ditto.
	* nlmconv.1: Ditto.
	* ar.1: Ditto.
	* addr2line.1: Ditto.

2000-11-27  DJ Delorie  <dj@redhat.com>

	* readelf.c (usage): Add -wf (--debug-dump=frames) option.
	(parse_args): Support -wf option.
	(process_section_headers): Ditto.
	(debug_displays): Ditto.
	(display_debug_frames): New, dump *_frame sections.
	(frame_need_space): Support for above.
	(frame_display_row): Ditto.
	* binutils.texi: Document it.

2000-11-24  Nick Clifton  <nickc@redhat.com>

	* NEWS: Announce support for v5t, v5te and XScale.

2000-11-22  Nick Clifton  <nickc@redhat.com>

	* readelf.c (get_machine_name): Add EM_JAVELIN, EM_FIREPATH,
	EM_ZSP, EM_MMIX, EM_HUANY, EM_PRISM.
	(get_section_type_name): Add SHT_GROUP and SHT_SYMTAB_SHNDX.
	(get_elf_section_flags: Add SHF_GROUP.
	(process_section_headers): Adjust output for 32-bit binaries
	to look nice on an 80 column terminal.

2000-11-20  H.J. Lu  <hjl@gnu.org>

	* readelf.c (get_osabi_name): Change ELFOSABI_MONTEREY to
	ELFOSABI_AIX.

2000-11-17  Richard Henderson  <rth@redhat.com>

	* readelf.c (display_debug_lines): Adjust last change to
	use sizeof (external->li_length).

2000-11-17  Richard Henderson  <rth@redhat.com>

	* readelf.c (display_debug_lines): Fix section length check
	and end_of_sequence computation.

2000-11-06  Nick Clifton  <nickc@redhat.com>

	* binutils.texi: Add GNU Free Documentation License.
	* objcopy.1: Add GNU Free Documentation License.
	* objdump.1: Add GNU Free Documentation License.
	* addr2line.1: Add GNU Free Documentation License.
	* ar.1: Add GNU Free Documentation License.
	* nlmconv.1: Add GNU Free Documentation License.
	* nm.1: Add GNU Free Documentation License.
	* ranlib.1: Add GNU Free Documentation License.
	* size.1: Add GNU Free Documentation License.
	* strings.1: Add GNU Free Documentation License.
	* strip.1: Add GNU Free Documentation License.

2000-10-06  Luciano Gemme <ishitawa@yahoo.com>

	* objcopy.c (--srec-len=nn): New parameter to set the
	maximum length of generated Srecords.
	(--srec-forceS3): New parameter that restricts the generation of
	Srecords to type S3 only.
	* binutils.texi: Document new command line switches.
	* objcopy.1: Docuemnt the new command line switches.
	* NEWS: Announce the existence of the new command line switches.

2000-10-31  Nick Clifton  <nickc@redhat.com>

	* MAINTAINERS: Add Jim Wilson as the maintainer for the IA64
	code.  Add Eric Chrisopher as maintainer of MN10300 port.

2000-10-12  Roger Sayle  <roger@metaphorics.com>

	* Make comma after string after icon/control optional.

2000-09-13  Anders Norlander  <anorland@acc.umu.se>

	* readelf.c (get_machine_flags): Also print EF_MIPS_MACH field.

	* NEWS: Mention support for MIPS32.

2000-09-08  Nick Clifton  <nickc@redhat.com>

	* MAINTAINERS: Add Stephane Carrez as maintainer for 68HC[11|12].

2000-09-07  H.J. Lu  <hjl@gnu.org>

	* configure.in (AC_ISC_POSIX): Put after AC_CANONICAL_SYSTEM.
	* configure: Rebuild.

2000-09-06  Alexandre Oliva  <aoliva@redhat.com>

	* configure: Rebuilt with new libtool.m4.

2000-09-05  Nick Clifton  <nickc@redhat.com>

	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.

2000-09-04  Todd Vierling  <tv@wasabisystems.com>

	* strip.1: Fix stray '\' in -o formatting.

2000-09-02  Nick Clifton  <nickc@redhat.com>

	* configure.in: Increase version number to 2.10.91.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* po/binutils.pot: Regenerate.

2000-08-31  Alexandre Oliva  <aoliva@redhat.com>

	* acinclude.m4: Include libtool and gettext macros from the
	top level.
	* aclocal.m4, configure: Rebuilt.

2000-08-30  Jamie Guinan  <guinan@bluebutton.com>

	* resrc.c (close_input_stream): Delete extraneous logic

2000-08-24  Hans-Peter Nilsson  <hp@axis.com>

	* NEWS: Mention support for CRIS.

2000-08-21  Nick Clifton  <nickc@redhat.com>

	* addr2line.c: Changed email address for Ulrich Lauther.

2000-08-17  Christopher C. Chimelis <chris@debian.org>

	* objdump.c (LONGEST_ARCH): Set to sizeof("powerpc:common").

2000-08-17  Nick Clifton  <nickc@redhat.com>

	* readelf.c (display_debug_pubnames): Only issue warning
	message once.  Terminate message with a new line.
	(display_debug_aranges): Only display version 2 debug info.

2000-08-14  Todd Vierling <tv@wasabisystems.com>

	* objcopy.c (strip_main): Silently accept -d as an alias for -g
	for compatability with old BSD systems.

2000-08-14  Jason Eckhardt  <jle@cygnus.com>

	* NEWS: Mention i860 support.

2000-08-11  Carlo Wood <carlo@alinoe.com>

	* addr2line.c (main): Add const to char *.

2000-08-11  Geoff Keating  <geoffk@cygnus.com>

	* ar.c (main): Don't crash if called with no arguments
	or only '-X32_64' as an argument.

2000-08-08  DJ Delorie  <dj@redhat.com>

	* resrc.c: use "gcc -xc" instead of -xc-header

2000-08-05  Jason Eckhardt  <jle@cygnus.com>

	* readelf.c (elf/i860.h): Include.
	(dump_relocations): Add recognition of i860 architecture.
	(guess_is_rela): Add recognition of i860 architecture.

2000-08-03  Nick Clifton  <nickc@cygnus.com>

	* MAINTAINERS: Add information about CGEN maintainers.

2000-07-26  Geoff Keating  <geoffk@cygnus.com>

	* nm.c (main): Ignore '-X32_64' as an option.
	* ar.c (main): Likewise.
	* binutils.texi (nm): Document new option.
	(ar): Likewise.

2000-07-23  Michael Sokolov  <msokolov@ivan.Harhan.ORG>

	* rdcoff.c (external_coff_symbol_p): K&R-ise.

2000-07-20  H.J. Lu  <hjl@gnu.org>

	* binutils.texi: Put back "@end table" deleted by
	accident.

2000-07-05  Kenneth Block  <krblock@computer.org>

	* nm.c: Add optional style to demangle switch.
	* objdump.c: Add optional style to demangle switch.
	* addr2line.c: Add optional style to demangle switch.
	* binutils.texi: Document optional style to demangle
	switch.

2000-07-20  Hans-Peter Nilsson  <hp@axis.com>

	* MAINTAINERS: Add self as CRIS port maintainer.
	* readelf.c: Include elf/cris.h.
	(guess_is_rela): Handle EM_CRIS.
	(dump_relocations): Ditto.
	(get_machine_name): Ditto.
	* Makefile.am: Rebuild dependencies.
	* Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.

2000-07-19  H.J. Lu  <hjl@gnu.org>

	* readelf.c (get_dynamic_type): Change "AUXILARY" to
	"AUXILIARY".
	(process_dynamic_segment): Print out strings for DT_CONFIG,
	DT_DEPAUDIT, DT_AUDIT and DT_RUNPATH.

2000-07-19  Mark Kettenis  <kettenis@gnu.org>

	* nm.c (usage): Change output of `nm --help' to include a
	description of the purpose of the program and a detailed
	description of the accepted options.

2000-07-19  H.J. Lu  <hjl@gnu.org>

	* readelf.c (process_dynamic_segment): Change DF_1_NODEPLIB
	to DF_1_NODEFLIB.

2000-07-19  H.J. Lu  <hjl@gnu.org>

	* readelf.c (get_dynamic_type): Fix DT_CHECKSUM.

2000-07-19  H.J. Lu  <hjl@gnu.org>

	* readelf.c (get_dynamic_type): Change DT_FEATURE_1 to
	DT_FEATURE.
	(process_dynamic_segment): Likewise.

	* readelf.c (get_dynamic_type): Handle DT_CONFIG, DT_DEPAUDIT,
	DT_AUDIT, DT_PLTPAD, DT_MOVETAB and DT_CHECKSUM.
	(process_dynamic_segment): Handle DTF_1_CONFEXP, DF_1_NODEPLIB,
	DF_1_NODUMP and DF_1_CONLFAT.

2000-07-18  Nick Clifton  <nickc@cygnus.com>

	* binutils.texi (readelf): Fix spelling typo.

2000-07-11  Mark Kettenis  <kettenis@gnu.org>

	* objdump.c (usage): Make output of `objdump --help' more
	consistent with the rest of the GNU world.  Add a line describing
	the purpose of the program.

2000-07-10  David Huggins-Daines  <dhd@linuxcare.com>

	* stabs.c (parse_stab_range_type): Cast to proper type to fix
	warning.

2000-07-10  Ryan Bradetich  <rbradetich@uswest.net>

	* readelf.c (get_dynamic_data): Add casts and use unsigned chars
	to fix warnings.
	(process_symbol_table): Ditto.
	(procesS_extended_line_op): Ditto.
	(display_debug_lines): Ditto.
	(display_debug_pubnames): Ditto.
	(read_and_display_attr): Ditto.

2000-07-09  Nick Clifton  <nickc@cygnus.com>

	* MAINTAINERS: Add several more port specific maintainers.

2000-07-05  Nick Clifton  <nickc@cygnus.com>

	* MAINTAINERS: Add blanket write privs for Michael Meissner.

2000-06-05  DJ Delorie  <dj@redhat.com>

	* MAINTAINERS: New.

2000-07-01  Eric Fifer  <EFifer@sanwaint.com>

	* dllwrap.c: Changed mistaken dyn_string_append() calls
	to dyn_string_append_cstr().

2000-07-01  Alexander Aganichev <AAganichev@hypercom.com>

	* stabs.c (parse_stab_type): Divide size in bits by 8 as binutils
	struct debug_type stores size in bytes.

2000-07-01  Alan Modra  <alan@linuxcare.com.au>

	* Makefile.am (DEP): Fix 2000-06-22.  grep after running dep.sed
	(CLEANFILES): Add DEPA.
	* Makefile.in: Regenerate.

2000-06-27  Alan Modra  <alan@linuxcare.com.au>

	* ar.c: Revert incorrect 2000-06-25 patch.
	* bucomm.c: Likewise.

2000-06-25 Mark Elbrecht <snowball3@bigfoot.com>

	* rdcoff (parse_coff_symbol): Treat GNU weak symbols as external.
	(external_coff_symbol_p): New function.
	(parse_coff): Use it.

2000-06-25  Alexander Aganichev <AAganichev@hypercom.com>

	* ar.c (normalize): Advance past both characters in a DOS based
	<letter>: filepath prefix.
	(main): Likewise.
	* bucomm.c (make_tempname): Likewise.

2000-06-24  Nick Clifton  <nickc@cygnus.com>

	* objdump.c (usage): Fix description of --stabs switch.

2000-06-22  Alan Modra  <alan@linuxcare.com.au>

	* Makefile.am (DEP): grep for leading `/' in DEP1, and fail if we
	find one.
	* Makefile.in: Regenerate.

2000-06-20  Alexander Aganichev <AAganichev@hypercom.com>

	* ar.c (normalize): Correct pointer comparison when checking for
	backslashes.
	(main): Likewise.
	* bucomm.c (make_tempname): Likewise.

	* ieee.c (ieee_start_compilation_unit): Correct pointer comparison
	and search for backslashes in the original pathname.
	(ieee_add_bb11): Likewise.

2000-06-18  Nick Clifton  <nickc@redhat.com>

	* ar.c (print_contents): Improve verbose message.

2000-06-15  H.J. Lu  <hjl@gnu.org>

	* dyn-string.c: Removed. Not needed with dyn-string.c in
	libiberty.
	* dyn-string.h: Likewise.

	* Makefile.am: Remove references to dyn-string.c and
	dyn-string.h. Rebuild dependency.
	* Makefile.in: Rebuild.

2000-06-15  H.J. Lu  <hjl@gnu.org>

	* binutils.texi: Put a warning on copying relocatable object
	files between two different formats.

2000-06-13  DJ Delorie  <dj@cygnus.com>

	* rcparse.y (control): ICON controls take an id as the first
	parameter, not an optional string.  Also, call new convenience
	function that takes res_id's.
	* resrc.c (define_control): missing text means zero-length string,
	not zero ID.
	(define_icon_control): New.
	* windres.h: declare define_icon_control.

2000-06-13  H.J. Lu  <hjl@gnu.org>

	* configure: Regenerate.

2000-06-08  David O'Brien  <obrien@FreeBSD.org>

	* configure.in (VERSION): Update to show this is the CVS mainline.

2000-06-02  David O'Brien  <obrien@FreeBSD.org>

	* strings.c (isgraphic): Interpret <TAB> as a printable character,
	analogous to <SPACE>.

2000-05-30  Alan Modra  <alan@linuxcare.com.au>

	* objdump.c (display_target_list): Use bfd_close_all_done, not
	bfd_close to fix crash caused by 2000-05-24 change.

2000-05-25  DJ Delorie  <dj@cygnus.com>

	* resrc.c (close_input_stream): zero out cpp_pipe after closing it.

2000-05-26  Alan Modra  <alan@linuxcare.com.au>

	* Makefile.am: Update dependencies with "make dep-am"
	* Makefile.in: Regenerate.

2000-05-26  Eli Zaretskii  <eliz@is.elta.co.il>

	* ar.c: Include filenames.h.
	(normalize) [HAVE_DOS_BASED_FILE_SYSTEM]: Support backslashes
	and drive letters in file names.
	(main): Support backslashes and drive letters in argv[0].  Drop
	the .exe suffix, if any, in argv[0] if is_ranlib is negative.  Use
	FILENAME_CMP instead of strcmp to compare file names.
	(open_inarch) [__GO32__]: Don't ifdef errno != ENOENT test for
	DJGPP v2.
	(do_quick_append) [__GO32__]: Ditto.
	(get_pos_bfd, delete_members, move_members, replace_members):
	Compare file names with FILENAME_CMP.

	* bucomm.c: Include filenames.h.
	(make_tempname) [HAVE_DOS_BASED_FILE_SYSTEM]: Support mixed
	forward/backward slashes and drive letters in file names.

	* ieee.c (ieee_start_compilation_unit, ieee_add_bb11): Support
	mixed forward/backward slashes and drive letters in file names.

	* strings.c (O_BINARY, setmode, SET_BINARY): Define.
	(main) [SET_BINARY]: Use SET_BINARY to switch stdin into binary
	mode.

	* objcopy.c: Include filenames.h.
	(main) [HAVE_DOS_BASED_FILE_SYSTEM]: Drop the .exe suffix
	before comparing to "strip".
	Use FILENAME_CMP to compare file names.

	* arsup.c: Include filenames.h.
	(map_over_list, ar_delete, ar_replace, ar_extract): Use
	FILENAME_CMP to compare file names.
	(ar_open): Prepend "tmp-" instead of appending "-tmp", to create
	the temporary file name.

	* configure.in: Check for setmode.
	* configure: Regenerate.

2000-05-24  Alan Modra  <alan@linuxcare.com.au>

	* objdump.c (display_target_list): Close the bfd.
	(display_info_table): Likewise.

2000-05-14  H.J. Lu  (hjl@gnu.org)

	* objcopy.c (filter_symbols): Don't strip global symbols in
	relocatable object files.

2000-05-14  Alan Modra  <alan@linuxcare.com.au>

	* size.c (usage): Associate short options with corresponding long
	option to give a clue as to their function.

2000-05-14  Philippe De Muyter  <phdm@macqel.be>

	* size.c (main): Accept and ignore `-f' option.

2000-05-13  Alan Modra  <alan@linuxcare.com.au>

	* bucomm.h (gettext, dgettext, dcgettext, textdomain,
	bindtextdomain): Replace defines with those from intl/libgettext.h
	to quieten gcc warnings.

2000-05-12  H.J. Lu  <hjl@gnu.org>

	* nlmconv.c (temp_filename): Removed.

	* nlmconv.c (link_inputs): Use make_temp_file () instead of
	choose_temp_base ().
	* objdump.c (display_target_list): Likewise.
	(display_info_table): Likewise.

2000-05-08  Alan Modra  <alan@linuxcare.com.au>

	* objcopy.c (setup_section): Add const and gettext calls for err.

2000-05-02  H.J. Lu  <hjl@gnu.org>

	* readelf.c (get_osabi_name): Handle ELFOSABI_NONE instead of
	ELFOSABI_SYSV. Also handle ELFOSABI_NETBSD, ELFOSABI_HURD,
	ELFOSABI_SOLARIS, ELFOSABI_MONTEREY, ELFOSABI_IRIX,
	ELFOSABI_FREEBSD, ELFOSABI_TRU64, ELFOSABI_MODESTO
	and ELFOSABI_OPENBSD.

2000-05-02  Kazu Hirata  <kazu@hxi.com>

	* coffgrok.c: Add ATTRIBUTE_UNUSED as appropriate.
	* srconv.c: Likewise.
	* sysdump.c: Likewise.

Sun Apr 23 14:23:26 2000  Denis Chertykov  <denisc@overta.ru>

	* readelf.c (guess_is_rela): AVR uses RELA relocations.
	(get_machine_name): machine name for EM_AVR added.

Fri Apr 21 13:20:53 2000  Richard Henderson  <rth@cygnus.com>
			  David Mosberger  <davidm@hpl.hp.com>

	* Makefile.am (readelf.o): Add elf/ia64.h.
	* Makefile.in: Rebuild.
	* readelf.c: Include elf/ia64.h.
	(guess_is_rela, dump_relocations): Handle EM_IA_64.

2000-04-17  Timothy Wall  <twall@cygnus.com>

	* objdump.c (disassemble_data): Set octets per byte *after*
	resolving arch/mach for binary files.

2000-04-14  Michael Sokolov  <msokolov@ivan.Harhan.ORG>

	* arlex.l: Add directives to increase lex buffer size.

	* objdump.c, readelf.c: Don't include strarg.h or varargs.h. They are
	already included by bucomm.h.

2000-04-10  Philippe De Muyter  <phdm@macqel.be>

	* readelf.c (dynamic_segment_mips_val): Call `sprintf', not
	`strftime' since strftime is not available on all systems.
	(process_mips_specific): Ditto.

Fri Apr  7 15:56:57 2000  Andrew Cagney  <cagney@b1.cygnus.com>

	* configure.in (WARN_CFLAGS): Set to -W -Wall by default.  Add
	--enable-build-warnings option.
	* Makefile.am (AM_CFLAGS, WARN_CFLAGS): Add definitions.
	* Makefile.in, configure: Re-generate.

2000-04-06  Alan Modra  <alan@linuxcare.com.au>

	* addr2line.c: Update copyright.
	* objcopy.1: Likewise, and title.
	* strings.1: Likewise.

	* version.c (print_version): Add 2000.

	* rddbg.c (read_section_stabs_debugging_info): Don't use
	bfd_size_type for strx to avoid printf problems if BFD64.

	* bucomm.c: (report): Remove `static'.
	Move inclusion of stdarg.h/vararg.h from here.
	* bucomm.h: To here.
	(CONST): Change all occurences to const.
	(report): Declare it.
	(bfd_fatal): Add ATTRIBUTE_NORETURN.
	(fatal): Add ATTRIBUTE_PRINTF_1 ATTRIBUTE_NORETURN.
	(non_fatal): Add ATTRIBUTE_PRINTF_1.

	* ar.c (main): Use fatal or non_fatal instead of fprintf.
	Correct a typo in an error message.
	(do_quick_append): Use non_fatal instead of fprintf.
	(move_members): Use fatal instead of fprintf, exit.
	* coffdump.c (main): Same here.

	* dlltool.c (display): Delete.
	(warn): Delete.
	(inform): Use `report' instead of `display'.
	(rvaafter): Remove trailing \n from fatal error msg.
	(rvabefore): Ditto.
	(asm_prefix): Ditto.
	(yyerror): Replace `warn' with `non_fatal', and remove \n.
	(def_name): Likewise.
	(run): Likewise.
	(scan_all_symbols): Likewise.
	(gen_lib_file): Likewise.
	(def_library): Likewise.  Remove extra program_name too.
	(run): Remove \n from inform strings.
	(scan_drectve_symbols): Likewise.
	(add_excludes): Likewise.
	(scan_open_obj_file): Likewise.
	(gen_exp_file): Likewise.
	(gen_lib_file): Likewise.
	(process_duplicates): Likewise.

	* Makefile.am (dllwrap_SOURCES): Add version.c.
	* dllwrap.c (program_version): Delete.
	(print_version): Delete.
	(display): Always print trailing \n.
	(warn): New.
	(delete_temp_files): Use warn instead of fprintf.  Use gettext.
	(run): Here too.
	(main): And here.
	(usage): gettext'ify.
	(long_options): Add missing initialisers.

	* nlmconv.c (main): Use fatal/non_fatal instead of fprintf.
	(select_output_format): Likewise.
	(powerpc_mangle_relocs): Likewise.
	(link_inputs): Likewise.

	* nm.c (set_print_radix): Use fatal instead of fprintf, exit.
	(set_output_format): Likewise.
	(main): Use non_fatal instead of fprintf.
	(display_rel_file): Likewise.

	* objdump.c (slurp_symtab): Use non_fatal instead of fprintf.
	(slurp_dynamic_symtab): Same here.
	(disassemble_data): And here.
	(read_section_stabs): And here.
	(read_section_stabs): And here.
	(dump_bfd): And here.
	(main): And here.
	(objdump_sprintf): Use fatal instead of fprintf, exit.
	(disassemble_data): Same here.

	* rdcoff.c (parse_coff_type): Use non_fatal instead of fprintf.
	(parse_coff_struct_type): Same here.
	(parse_coff_enum_type): And here.
	(parse_coff): And here.
	* rddbg.c (read_debugging_info): And here.
	* size.c (main): And here.
	* windres.c (format_from_name): And here.
	* wrstabs.c (stab_write_symbol): Here too.
	(write_stabs_in_sections_debugging_info): And here.
	(stab_int_type): And here.
	(stab_struct_field): And here.
	(stab_typdef): And here.

	* rescoff.c (read_coff_rsrc): Use fatal instead of fprintf, exit.
	* srconv.c (main): Same here.
	* strings.c (main): And here.
	(integer_arg): And here.
	* sysdump.c (main): And here.

2000-04-06  Timothy Wall  <twall@cygnus.com>

	* objdump.c (dump_section_header): Print CLINK and BLOCK flags.

2000-04-06  Jason Merrill  <jason@yorick.cygnus.com>

	* readelf.c (decode_location_expression): Loop through multiple
	operations.
	(read_and_display_attr): Pass in length.

	* readelf.c (read_and_display_attr): Add CU offset to references.
	(display_debug_info): Pass it in.

2000-04-06  Nick Clifton  <nickc@cygnus.com>

	* readelf.c (decode_ARM_machine_flags): New function.
	(get_machine_flags): Call decode_ARM_machine_flags for ARM
	targets.

	(get_machine_name): Catch EM_AVR

2000-04-05  Alan Modra  <alan@linuxcare.com.au>

	* binutils.texi: Remove optional `=' from long options that have
	an `=' in the argument.
	* objcopy.1: Here too.  Remove extra space on discard-all.

	* binutils.texi (objcopy): Mention --redefine-sym.
	* objcopy.1: Here too.
	* NEWS: And here.

	* objcopy.c (parse_flags): Split off flag names from error message
	gettext as they are not translated.
	(copy_main): Similarly split off option name for --add-section,
	--set-section-flags, --change-section-vma, --change-section-lma
	error messages.
	Some white space changes.

	from Matthew Benjamin <matt@linuxbox.nu>
	* objcopy.c (struct redefine_node): New.
	(redefine_sym_list): New.
	(redefine_list_append): New.
	(lookup_sym_redefinition): New.
	(OPTION_REDEFINE_SYM): New.
	(copy_options): Add --redefine-sym option.
	(copy_usage): Mention it.
	(filter_symbols): Rename symbols on redefine_sym_list.
	(copy_object): Call filter_symbols if redefine_sym_list != NULL.
	(copy_main): Handle OPTION_REDEFINE_SYM.

2000-04-04  H.J. Lu  <hjl@gnu.org>

	* readelf.c (process_symbol_table): Correctly read in symbol
	versioning information.

2000-04-04  Alan Modra  <alan@linuxcare.com.au>

	* po/binutils.pot: Regenerate.

	* addr2line.c (usage): Restore translated part of bug string.
	* ar.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage): Likewise.
	(strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* size.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.

	* Makefile.am (MKDEP): Use gcc -MM rather than mkdep.
	(DEP): Quote when passing vars to sub-make.  Add warning
	message to end.
	(DEP1): Rewrite for "gcc -MM".
	(CLEANFILES): Add DEP2.
	Update dependencies.
	* Makefile.in: Regenerate.

2000-04-04  H.J. Lu  <hjl@gnu.org>

	* Makefile.am (GENERATED_HFILES): Add rcparse.h
	(arparse.h): Depend on arparse.c
	(defparse.h, nlmheader.h, rcparse.h, sysinfo.h): Similarly.

2000-04-03  H.J. Lu  (hjl@gnu.org)

	* size.c (usage): Use REPORT_BUGS_TO.

2000-04-03  Alan Modra  <alan@linuxcare.com.au>

	* bucomm.h: #include "bin-bugs.h"
	* addr2line.c (usage): Use REPORT_BUGS_TO.
	* ar.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	(OPTION_TARGET): Define.
	(long_options): Use OPTION_TARGET rather than 200.
	(main): Likewise.

	* objcopy.c (copy_usage): Use REPORT_BUGS_TO.
	(strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.

2000-03-31  John David Anglin  <dave@hiauly1.hia.nrc.ca>

	* readelf.c: Include sys/types.h before sys/stat.h for ultrix.

2000-03-27  Nick Clifton  <nickc@cygnus.com>

	* rddbg.c (read_section_stabs_debugging_info): Catch out of range
	string offsets in corrupt stabs entries.

2000-03-27  Alan Modra  <alan@linuxcare.com.au>

	* readelf.c: Include elf/avr.h
	(dump_relocations): Add EM_AVR case.

2000-03-09  Tim Waugh  <twaugh@redhat.com>

	* strings.1: Correct '-bytes' to '--bytes'.

2000-03-08  H.J. Lu  <hjl@gnu.org>

	* Makefile.am (install-exec-local): Depend on
	install-binPROGRAMS for parallel make.
	* Makefile.in: Regenerated.

2000-02-27  Ian Lance Taylor  <ian@zembu.com>

	From Brad Lucier <lucier@math.purdue.edu>:
	* readelf.c (process_dynamic_segment): Add cast to make sure
	argument to %* is int.

2000-02-25  H.J. Lu  <hjl@gnu.org>

	* configure.in (AC_SEARCH_LIBS): Pass m, not -lm.

2000-02-24  Nick Clifton  <nickc@cygnus.com>

	* configure.in: Add arm-wince, mips-pe and sh-pe targets.
	* configure: Regenerate.

	* dlltool.c: Add support for sh-pe and mips-pe targets.
	* rescoff.c: Add support for sh-pe and mips-pe targets.

2000-02-23  H.J. Lu  <hjl@gnu.org>

	* readelf.c (get_osabi_name): Handle ELFOSABI_LINUX.

2000-02-22  Nick Clifton  <nickc@cygnus.com>

	* readelf.c (process_symbol_table): Remove use of ELF_ST_OTHER.

2000-02-22  Ian Lance Taylor  <ian@zembu.com>

	From Brad Lucier <lucier@math.purdue.edu>:
	* readelf.c (process_version_sections): Add casts to make sure
	argument to %* is an int.
	(process_mips_specific): Add casts to make printf arguments match
	format.

2000-02-21  Alan Modra  <alan@spri.levels.unisa.edu.au>

	* objdump.c (dump_section_header): Change `opb' to unsigned.
	(find_symbol_for_address): Same here.
	(disassemble_data): And here.  Change `addr_offset',
	`stop_offset', `nextstop_offset' to unsigned long.
	(dump_data): Change opb to unsigned.

2000-02-18  Frank Ch. Eigler  <fche@redhat.com>

	* resrc.c: Remove unmatched #if for cygwin.

2000-02-14  Fernando Nasser  <fnasser@totem.to.cygnus.com>

	* binutils.texi: Document the change of flavor name from atpcs-special
	to special-atpcs to prevent name conflict in gdb.

2000-02-08  Timothy Wall  <twall@redhat.com>

	* objdump.c (show_line): Fix bug preventing printing of the very
	first line (line zero) of a file when interlisting source and
	assembly.  Added option to print entire context from start of file
	when the first line from that file is encountered.

2000-02-03  Timothy Wall <twall@redhat.com>

	* objdump.c (dump_section_header, find_symbol_for_address,
	show_line, disassemble_bytes, disassemble_data, dump_data):
	distinguish between octets and bytes.

2000-01-27  Thomas de Lellis  <tdel@windriver.com>

	* nm.c (print_symbol_info_bsd): Use bfd_is_undefined_symclass to
	check to unresolved symbols.
	(print_symbol_info_sysv):  Ditto.
	(print_symbol_info_posix):  Ditto.

	* binutils.texi: Document new 'V' symclass flag for nm.

2000-01-27  Nick Clifton  <nickc@redhat.com>

	* binutils.texi (objdump): Document new ARM specific
	disassembler options.

	* objdump.c (usage): Call disassembler_usage().

2000-01-27  Alan Modra  <alan@spri.levels.unisa.edu.au>

	* readelf.c (get_dynamic_flags): Return buff.
	(process_dynamic_segment): Don't pass error strings to printf
	as format arg.
	(read_and_display_attr): Use lx and ld to print longs.
	(process_corefile_note_segment): Cast bfd_vma to unsigned long
	before printing.
	Update copyright.

2000-01-17  Nick Clifton  <nickc@cygnus.com>

	* readelf.c (get_osabi_name): Recognise ELFOSABI_ARM.

2000-01-15  Alan Modra  <alan@spri.levels.unisa.edu.au>

	* debug.c (debug_name_type): Return DEBUG_TYPE_NULL rather than
	false.
	(debug_tag_type): Here too.
	* ieee.c (ieee_builtin_type): And here.
	* stabs.c (parse_stab_type, parse_stab_array_type): And here.

2000-01-13  Nick Clifton  <nickc@cygnus.com>

	* readelf.c (get_machine_name): Change EM_S370 to return "IBM
	System/370".

2000-01-11  Nick Clifton  <nickc@cygnus.com>

	* readelf.c (get_dynamic_type): Remove DT_ENCODING.

2000-01-10  Nick Clifton  <nickc@cygnus.com>

	* readelf.c (get_note_type): Display NT_WIN32PSTATUS notes.

2000-01-07  Mumit Khan  <khan@xraylith.wisc.edu>

	* windres.c (long_options): Add --use-temp-file and
	--no-use-temp-file options.
	(usage): Document.
	(main): Handle.

	* windres.h: Update read_rc_file prototype.

	* resrc.c (cpp_temp_file): New static variable.
	(istream_type): New static variable.
	(close_pipe): Delete function.
	(run_cmd): New static function.
	(open_input_stream): New static function.
	(close_input_stream): New static function.
	(look_for_default): Handle DOS directory separator. Use
	open_input_stream instead of popen.
	(read_rc_file): Likewise.

	* binutils.texi: Document --use-temp-file, --no-use-temp-file
	options.

2000-01-04  Mumit Khan  <khan@xraylith.wisc.edu>

	* dlltool.c (create_compat_implib): New variable.
	(gen_exp_file): Use.
	(make_one_lib_file): Use.
	(long_options): Add --compat-implib option.
	(usage): Handle.
	(main): Handle.

	* dllwrap.c (enum target_type): Rename MINGW32_TARGET to MINGW_TARGET.
	(main): Use. Don't look for "32" in cygwin and mingw target names.

2000-01-03  Nick Clifton  <nickc@cygnus.com>

	* binutils.texi: Document new, ARM specific disassembler
	command line switch "-M force-thumb".

For older changes see ChangeLog-9899

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
