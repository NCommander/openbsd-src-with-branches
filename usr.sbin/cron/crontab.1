.\"/* Copyright 1988,1990,1993 by Paul Vixie
.\" * All rights reserved
.\" */
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND INTERNET SOFTWARE CONSORTIUM DISCLAIMS
.\" ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL INTERNET SOFTWARE
.\" CONSORTIUM BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
.\" DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
.\" PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS
.\" ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
.\" SOFTWARE.
.\"
.\" $OpenBSD: crontab.1,v 1.11 2002/05/09 21:22:01 millert Exp $
.\"
.Dd June 8, 1999
.Dt CRONTAB 1
.Os
.Sh NAME
.Nm crontab
.Nd maintain crontab files for individual users
.Sh SYNOPSIS
.Nm crontab
.Op Fl u Ar user
.Ar file
.Nm crontab
.Op Fl u Ar user
.Oo
.Fl l No \&|
.Fl r No \&|
.Fl e
.Oc
.Sh DESCRIPTION
.Nm
is the program used to install, deinstall, or list the tables
used to drive the
.Xr cron 8
daemon in Vixie Cron.
Each user can have their own
.Xr crontab 5 ,
and though these are files in
.Pa /var/cron/tabs ,
they are not intended to be edited directly.
.Pp
The first form of this command is used to install a new crontab from some
named file, or standard input if the pseudo-filename
.Sq Fl
is given.
.Pp
If the
.Pa /var/cron/allow
file exists, then you must be listed therein in order to use
.Nm crontab .
If the
.Pa /var/cron/allow
file does not exist but the
.Pa /var/cron/deny
file does exist, then you must
.Em not
be listed in the
.Pa /var/cron/deny
file in order to use
.Nm crontab .
If neither of these files exists, then
depending on site-dependent configuration parameters, only the super user
will be allowed to use
.Nm crontab ,
or all users will be able to use it.
.Em NOTE :
if they exist,
.Pa /var/cron/allow
and
.Pa /var/cron/deny
must be readable by group crontab.
If
.Nm
is unable to read the files, users will not be allowed to use
.Nm crontab .
.Pp
The options are as follows:
.Bl -tag -width "-u userX"
.It Fl u Ar user
Specifies the name of the user whose
.Xr crontab 5
is to be edited.
If this option is not given,
.Nm
examines
.Dq your
.Xr crontab 5 ;
i.e., the
crontab of the person executing the command.
Note that
.Xr su 8
can confuse
.Nm
and that if you are running inside of
.Xr su 8
you should always use the
.Fl u
option for safety's sake.
.It Fl l
Causes the current crontab to be displayed on standard output.
.It Fl r
Causes the current crontab to be removed.
.It Fl e
Edit the current crontab using the editor specified by
the
.Ev VISUAL
or
.Ev EDITOR
environment variables.
After you exit from the editor, the modified
.Xr crontab 5
will be installed automatically.
.El
.Sh FILES
.Bl -tag -width "/var/cron/allow" -compact
.It Pa /var/cron/allow
list of users allowed to use crontab
.It Pa /var/cron/deny
list of users prohibited from using crontab
.It Pa /var/cron/tabs
directory of individual crontabs
.El
.Sh SEE ALSO
.Xr crontab 5 ,
.Xr cron 8
.Sh STANDARDS
The
.Nm
utility is compliant with the
.St -p1003.2
specification.
.Sh DIAGNOSTICS
A fairly informative usage message appears if you run it with a bad command
line.
.Sh AUTHORS
Paul Vixie <paul@vix.com>
