+ add pkgname parsing
+ handle package conflicts
+ handle package dependencies to the level of the old implementation
+ handle chmod/chown to the level of the old implementation
+ handle PKGPATH
+ replace symlinks with @symlink commands at pkg_create time
+ basic validation of packing list at end of reading it...
- add better error handling
- let package delete log files it cannot delete
- smart package dependency handling

Known update issues:
- symlink to directory doesn't get created during extraction, which
throws off the rest of the extraction (probably needs to create those
correctly). More generally: extraction may fail if the updated package
renames directory structure.
- error during extraction breaks things badly: need a mechanism to register
borked package similar to pkg_add. Preferably avoid doing it.
- shared libs must be matched against the package that holds the deps, not
just any package.
- shared libs should be looked for in .libs-pkgspec as well if -f old(?)
so that correct dependencies are registered.
- pkg_add -r can have two conflicting packages (or more) n-to-m updates
should be handled.
