.\" $KTH: tokens.1,v 1.3 2000/08/06 17:11:47 lha Exp $
.\"
.Dd July 7, 1999
.Dt TOKENS 1
.Os "The Arla Project"
.Sh NAME
.Nm tokens
.Nd
lists all AFS tokens in your current PAG.
.Sh SYNOPSIS
.Nm
.Op Fl athena
.Op Fl verbose, v
.Sh DESCRIPTION
The following flags are supported:
.Bl -tag -width xxxx
.It Fl athena
Generate output in a format similar to that of Kerberos 4's 'klist'
program
.It Fl verbose,-v
Generate slightly more verbose output (not particularly useful except for
debugging purposes)
.El
.Pp
The
.Nm
can produce two different styles of output, AFS-style (default) or
Kerberos4-style (optional).
.Pp
The default output mimics the
.Nm
command from the official AFS.
.Pp
It looks something like this:
.Bd -literal
Tokens held by Arla:

User's (AFS ID 4881) tokens for afs@umich.edu [Expires Jul  8 09:21]
User's (AFS ID 4881) tokens for afs@engin.umich.edu [>>> Expired <<<]
   --End of list--
.Ed
.Pp
If you don't have any AFS tokens, you still get the banner:
.Bd -literal
Tokens held by Arla:

   --End of list--
.Ed
.Pp
When the 
.Fl athena
option is specified on the command line, the output
of
.Nm
looks like this:
.Bd -literal
Tokens held by Arla:

  Issued           Expires          Principal
Jul  7 23:40:22  Jul  8 00:40:21  User's (AFS ID 4881) tokens for umich.edu
Jul  7 23:27:51  >>> Expired <<<  User's (AFS ID 4881) tokens for engin.umich.edu
   --End of list--
.Ed
.Pp
If you don't have any AFS tokens,
.Nm
just prints
.Bd -literal
You have no AFS tokens.
.Ed
to the standard output. 
.Sh EXIT STATUS
.Nm
returns with exit status 0 (true) if the current PAG has at least 1 valid
AFS token. Otherwise, the exit status of
.Nm
is 1.
.Pp
Thus, you can call this program from a script to determine whether or not
AFS tokens are present. (e.g. in a login script)
.Sh NOTES
The AFS ID printed out may be arbitrary; it can be chosen at the time the
token is set and does not necessarily correspond to the actual AFS ID on
the kaserver.
.Pp
If you have AFS tokens, but they are all expired, the exit status of
.Nm
will be 1, not 0.
.El
.Sh SEE ALSO
.Xr klog 1 ,
.Xr klist 1 ,
.Xr unlog 1
.Sh BUGS
None known.
