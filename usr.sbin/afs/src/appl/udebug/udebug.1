.\" $KTH: udebug.1,v 1.3 2000/09/09 14:28:54 lha Exp $
.Dd Aug 06, 2000
.Dt UDEBUG 1
.Os Arla
.Sh NAME
.Nm udebug
.Nd
a tool to diagnose synchronization problems with ubik-database
servers.
.Sh SYNOPSIS
.Nm
.Op Fl servers Ar servers ...
.Op Fl port Ar port
.Op Fl long
.Sh DESCRIPTION
Supported options:
.Bl -tag -width Ds
.It Fl servers Ar servers ...
A list of server to probe.
.It Fl port Ar port
The port number of where the server resides.
.It Fl long
Verbose information.
.El
.Sh DIAGNOSTICS
.Nm
is used to diagnose synchronization problems with ubik-servers.
.Pp
Ubik is quorum-complete protocol. Servers vote on each other to elect
a sync-sit.e. The sync-site have the ability to synchronize a
two-phase write with the other servers if at least half of them is
available.
.Sh EXAMPLES
.Bd -literal
datan# udebug -servers anden.e.kth.se -port 7003
Host 130.237.48.7 time is Mon Aug  7 13:46:24 2000
Localtime is Mon Aug  7 13:46:43 2000, differ 19 seconds
Last yes vote for 130.237.48.7 secs was 8 ago (at Mon Aug  7 13:46:16 2000)
Last vote started 8 secs ago (at Mon Aug  7 13:46:16 2000)
Local db version is 965530500.199
Syncsite db version is 965530500.199
0 locked pages, 0 of them for write
I'm the synchost for 49 seconds more (Mon Aug  7 13:47:13 2000)
Recover state is 0x1f
Last time a new db version was laballed was:
                118284 secs ago (at Sun Aug  6 04:55:00 2000)

Server 130.237.48.244: (db 965530500.199)
        last vote recived 8 secs ago (at Mon Aug  7 13:46:16 2000)
        last beacon sent 8 secs ago (at Mon Aug  7 13:46:16 2000)
        dbcurrent=1, up=1, beaconSince=1

Server 130.237.48.8: (db 965530500.199)
        last vote recived 11 secs ago (at Mon Aug  7 13:46:13 2000)
        last beacon sent 8 secs ago (at Mon Aug  7 13:46:16 2000)
        dbcurrent=1, up=1, beaconSince=1

.Ed
.\".Sh SEE ALSO
.\"XXX